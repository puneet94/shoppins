function socketFactoryFunction(e,t){return e({prefix:"",ioSocket:io.connect("/"+t.getUser()._id)})}!function(e){"use strict";e.module("myApp",["ngRoute","ngCookies","ngMessages","ngSanitize","afkl.lazyImage","satellizer","ngFileUpload","ngMap","btford.socket-io","authModApp","app.common","app.home","app.store","app.chat","app.admin","ngMaterial","app.review","app.product","app.user"]).config(["$routeProvider","$mdThemingProvider",function(e,t){t.theme("default").primaryPalette("cyan").accentPalette("yellow").warnPalette("orange"),e.otherwise({redirectTo:"/home"})}]).run(function(e,t,o,r){e.config={},e.config.app_url=t.url(),e.config.app_path=t.path(),e.layout={},e.layout.loading=!1,e.$on("$routeChangeStart",function(){r(function(){e.layout.loading=!0})}),e.$on("$routeChangeSuccess",function(){r(function(){e.layout.loading=!1},1e3)}),e.$on("$routeChangeError",function(){alert("you are not authorized to view this page"),e.layout.loading=!1})})}(window.angular),function(e){function t(e,t,o,r){var n=e.defer();return o.isAuthenticated()?n.resolve():(t(function(){r.changeBrowserURLMethod("/login")}),n.reject()),n.promise}function o(e,t,o,r,n){var i=e.defer();return r.getStore(t.current.params.storeId,{select:"admin"}).then(function(e){o.getUser()._id==e.data.admin?i.resolve():(i.reject(),n.changeBrowserURLMethod("/home"))},function(e){console.log(e)}),i.promise}e.module("app.admin",[]).config(["$routeProvider",function(e){e.when("/admin/createStore",{templateUrl:"app/admin/views/adminCreateStore.html",controller:"CreateStoreController",controllerAs:"csc",resolve:{redirectIfNotAuthenticated2:t}}).when("/admin/adminStorePage/:storeId",{templateUrl:"app/admin/views/adminStorePage.html",controller:"AdminStoreController",controllerAs:"asc",resolve:{redirectIfNotAuthenticated2:t,redirectIfNotStoreAuthenticated:o}})}])}(window.angular),function(e){"use strict";function t(e,t,r){var n="1068203956594250",i="http://localhost:3000/authenticate";e.when("/signup",{templateUrl:"app/authentication/views/register.html",controller:"RegisterCtrl",controllerAs:"rcl",resolve:{redirectIfNotAuthenticated:o}}).when("/logout",{controller:"LogoutCtrl"}).when("/login",{templateUrl:"app/authentication/views/login.html",controller:"LoginController",controllerAs:"login",resolve:{redirectIfNotAuthenticated:o}}),r.loginUrl=i+"/login",r.signupUrl=i+"/signup",r.facebook({clientId:n,url:i+"/auth/facebook"})}function o(e,t,o,r,n){var i=e.defer();return t.isAuthenticated()?(i.reject(),n.changeBrowserURLMethod("/home")):i.resolve(),i.promise}e.module("authModApp",["ngCookies","ngRoute","satellizer"]).config(["$routeProvider","$httpProvider","$authProvider",t])}(window.angular),function(e){"use strict";function t(e,t,o){var r=e.defer();return t.isAuthenticated()?r.resolve():(r.reject(),o.changeBrowserURLMethod("/home")),r.promise}function o(e,t,o,r,n){var i=e.defer(),a=o.current.params.creator1,s=o.current.params.creator2;return t.isAuthenticated()?s==a?(i.reject(),n.changeBrowserURLMethod("/home")):r.getUser()._id==a||r.getUser()._id==s?i.resolve():(i.reject(),n.changeBrowserURLMethod("/home")):(i.reject(),n.changeBrowserURLMethod("/home")),i.promise}e.module("app.chat",[]).config(["$routeProvider",function(e){e.when("/chatBox/:creator1/:creator2",{templateUrl:"app/chat/views/chatBox.html",controller:"ChatBoxController",controllerAs:"cbc",resolve:{redirectIfNotAuthenticated:o}}).when("/chatRooms",{templateUrl:"app/chat/views/chatRoomListPage.html",resolve:{redirectIfNotUserAuthenticated:t}})}])}(window.angular),function(e){"use strict";e.module("app.common",[])}(window.angular),function(e){function t(e){e.when("/home",{templateUrl:"app/home/homePage.html",controller:"HomeController",controllerAs:"hm"})}e.module("app.home",[]).config(["$routeProvider",t])}(window.angular),function(e){e.module("app.product",[]).config(["$routeProvider",function(e){e.when("/productsCollectionName/:productName/:location/:slug?",{templateUrl:"app/product/views/productsNameCollection.html",controller:"ProductNameCollectionController",controllerAs:"pncc"}).when("/productsCollectionCategory/:category/:location/:slug?",{templateUrl:"app/product/views/productsCategoryCollection.html",controller:"ProductCategoryCollectionController",controllerAs:"pccc"}).when("/productsCollectionSubCategory/:subCategory/:location/:slug?",{templateUrl:"app/product/views/productsSubCategoryCollection.html",controller:"ProductSubCategoryCollectionController",controllerAs:"pscc"}).when("/product/singleProduct/:productId/:slug?",{templateUrl:"app/product/views/singleProduct.html",controller:"SingleProductController",controllerAs:"spc"}).when("/productsCollectionLocation/:location/:slug?",{templateUrl:"app/product/views/productsLocationCollection.html",controller:"ProductsLocationController",controllerAs:"plc"})}])}(window.angular),function(e){"use strict";e.module("app.review",[])}(window.angular),function(e){"use strict";e.module("app.store",[]).config(["$routeProvider",function(e){e.when("/store",{templateUrl:"app/store/storePost.html",controller:"StoreController",controllerAs:"sm"}).when("/store/storesCollection/storeName/:storeName/:location/:slug?",{templateUrl:"app/store/views/storesNameCollection.html",controller:"StoreNameCollectionController",controllerAs:"sncc"}).when("/store/storesCollection/category/:category/:location/:slug?",{templateUrl:"app/store/views/storesCategoryCollection.html",controller:"StoreCategoryCollectionController",controllerAs:"sccc"}).when("/store/storesCollection/location/:location/:slug?",{templateUrl:"app/store/views/storesLocationCollection.html",controller:"StoreLocationCollectionController",controllerAs:"slcc"}).when("/store/singleStore/:storeId/:myslug?",{templateUrl:"app/store/views/singleStore.html",controller:"SingleStoreController",controllerAs:"ssc"})}])}(window.angular),function(e){"use strict";function t(e,t,o){var r=e.defer();return t.isAuthenticated()?r.resolve():(r.reject(),o.changeBrowserURLMethod("/home")),r.promise}e.module("app.user",[]).config(["$routeProvider",function(e){e.when("/user/:userId",{templateUrl:"app/user/views/userProfilePage.html",controller:"UserPageController",controllerAs:"upc"}).when("/userProfileSettings",{templateUrl:"app/user/views/userProfileSettingsPage.html",resolve:{redirectIfNotUserAuthenticated:t}}).when("/userAccountSettings",{templateUrl:"app/user/views/userAccountSettingsPage.html",resolve:{redirectIfNotUserAuthenticated:t}}).when("/userMobileFeed",{templateUrl:"app/user/views/userMobileFeed.html",controller:"UserMobileFeedController",controllerAs:"umfc"}).when("/userMePage",{templateUrl:"app/user/views/userMePage.html",controller:"UserMePageController",controllerAs:"umpc",resolve:{redirectIfNotUserAuthenticated:t}})}])}(window.angular),function(e){"use strict";e.module("app.common",[])}(window.angular),function(e){"use strict";function t(e,t){this.getCities=function(){var o=this;return o.cityData=e.get(t.baseUrl+"store/cities"),o.cityData}}function o(e,t){this.getSearches=function(o){var r=this;r.searchesData=void 0;var n=e.baseUrl+"search/searches/"+o;return r.searchesData=t.get(n),r.searchesData},this.getAjaxSearches=function(o,r){var n=e.baseUrl+"search/searches/"+o+"/"+r;return t.get(n)}}function r(e){this.getService=function(t){return e.get(t)}}function n(){this.sortByKey=function(e,t){return e.sort(function(e,o){var r=e[t],n=o[t];return n>r?-1:r>n?1:0})}}function i(e){this.changeBrowserURLMethod=function(t,o){o&&e.path(t).search({param:o}),e.path(t)}}function a(){this.getArrayFunction=function(e,t){for(var o=[],r=e.length-1;r>=0;r--)o.push(e[r][t]);return o}}function s(){this.getUniqueCopyFunction=function(t,o){return e.forEach(t,function(e){-1==o.indexOf(e)&&o.push(e)}),o}}function c(){}function l(e,t){var o=e.localStorage,r={setCity:function(e){e&&(o.setItem("city",JSON.stringify(e)),t.$broadcast("city-changed"))},getCity:function(){return JSON.parse(o.getItem("city"))},isCityExists:function(){return r.getCity()?!0:!1}};return r}function u(e){this.baseUrl=this.baseUrl="localhost"==e.host()?e.protocol()+"://"+e.host()+":3000/":e.protocol()+"://"+e.host()+"/",console.log("base"),console.log(this.baseUrl),this.getStoresWithCatgeoryLocation=this.baseUrl+"store/storesCollection/category/",this.getStoresWithNameLocation=this.baseUrl+"store/storesCollection/storeName/",this.getSingleStoreWithId=this.baseUrl+"store/singleStore/",this.getProductsWithCatgeoryLocation=this.baseUrl+"product/productsCollection/category/",this.getProductsWithSubCatgeoryLocation=this.baseUrl+"product/productsCollection/subCategory/",this.getProductsWithNameLocation=this.baseUrl+"product/productsCollection/productName/",this.getProductsWithStoreId=this.baseUrl+"product/productsCollection/store/",this.getSingleProductWithId=this.baseUrl+"product/singleProduct/",this.getCategoriesWithLocation=this.baseUrl+"categories/location"}function d(e,t){function o(o){return e.get(t.baseUrl+"store/localities/"+o)}this.getCityLocalities=o}function g(e,t){function o(o){return e.get(t.baseUrl+"store/categories/"+o)}this.getCityCategories=o}function p(e,t){function o(o){return e.get(t.baseUrl+"product/localities/"+o)}this.getCityLocalities=o}function h(e,t){function o(o){return e.get(t.baseUrl+"product/categories/"+o)}this.getCityCategories=o}function f(e,t){function o(o){return e.get(t.baseUrl+"product/subCategories/"+o)}this.getCitySubCategories=o}e.module("app.common").service("citiesService",["$http","baseUrlService",t]).service("getCategoryService",[function(){}]).service("searchService",["baseUrlService","$http",o]).service("httpService",["$http",r]).service("sortService",[n]).service("changeBrowserURL",["$location",i]).service("arrayObjectMapper",[a]).service("arrayUniqueCopy",[s]).service("userLocationService",[c]).service("baseUrlService",["$location",u]).service("getCityLocalitiesService",["$http","baseUrlService",d]).service("getCityCategoriesService",["$http","baseUrlService",g]).service("getCityProductLocalitiesService",["$http","baseUrlService",p]).service("getCityProductCategoriesService",["$http","baseUrlService",h]).service("getCityProductSubCategoriesService",["$http","baseUrlService",f]).factory("cityStorage",["$window","$rootScope",l])}(window.angular),function(e){"use strict";function t(){return{restrict:"E",replace:!0,templateUrl:"app/common/views/imagesList.html",scope:{imagesList:"="},link:function(e,t,o){}}}function o(){return{restrict:"E",replace:!0,templateUrl:"app/common/views/singleImage.html",scope:{image:"="},link:function(e,t,o){}}}function r(e){return{restrict:"A",link:function(t,o,r){t.$watch(function(){return t.$eval(r.bindHtmlCompile)},function(n){o.html(n&&n.toString());var i=t;r.bindHtmlScope&&(i=t.$eval(r.bindHtmlScope)),e(o.contents())(i)})}}}function n(e,t){return{restrict:"A",link:function(e,o,r){var n=t.path();$(o[0]).on("click",function(){$(r.toggleElement).slideToggle()});-1==n.indexOf("/home")}}}function i(e,t){return{restrict:"A",link:function(e,o,r){var n=0,i=t.path();-1==i.indexOf("/home")&&$(window).on("scroll",function(){if(windowWidth=window.innerWidth?window.innerWidth:$(window).width(),-1==i.indexOf("/home")&&$(window).scrollTop()>170&&windowWidth<=601&&-1==i.indexOf("/home")&&$(window).scrollTop()>170){var t=$(this).scrollTop();t>n?$(".scrollUpSearch").slideUp("fast"):$(".scrollUpSearch").slideDown("fast"),n=t,e.$apply()}})}}}function a(e,t){return{restrict:"A",link:function(e,t,o){$(t).on("click",function(){windowWidth=window.innerWidth?window.innerWidth:$(window).width(),windowWidth<=961&&($(o.toggleMobile).slideToggle(),e.$apply())})}}}function s(){return{restrict:"E",replace:!0,scope:{loading:"=loading"},template:'<div class="ajaxLoadingSpinnerDiv"><div class="ajaxLoadingSpinner"></div></div>',link:function(e,t,o){e.$watch("loading",function(e){e?$(t).show():$(t).hide()})}}}function c(){return{restrict:"E",replace:!0,scope:{loading:"=innerLoading",containerHeight:"@containerHeight"},templateUrl:"app/common/views/innerLoadingTemplate.html",link:function(e,t,o){e.$watch("loading",function(e){e?$(t).show():$(t).hide()}),$(".innerLoadingContainer").height(e.containerHeight)}}}function l(){return{restrict:"EA",replace:!0,scope:{smallLoading:"=smallLoading"},template:'<span style="position:relative"><div class="spinner"></div></span>',link:function(e,t,o){e.$watch("smallLoading",function(e){e?$(t).show():$(t).hide()})}}}function u(){return{restrict:"A",link:function(e,t,o){$("meta[name=Keywords]").attr("content"),$("meta[name=Description]").attr("content");console.log()}}}function d(){return{restrict:"E",scope:{upFn:"&upFn",downFn:"&downFn",upvChk:"&upvChk",smallLoading:"=smallLoading",currentReview:"=currentReview"},templateUrl:"app/reviews/views/likeReview.html"}}function g(){return{restrict:"E",scope:{upFn:"&upFn",downFn:"&downFn",upvChk:"&upvChk",smallLoading:"=smallLoading"},templateUrl:"app/user/views/userFollow.html"}}function p(){return{restrict:"A",link:function(e,t,o){$(t).css("background-image","url("+o.imageReplacementDirective+")")}}}e.module("app.common").directive("toggleElement",["$window","$location",n]).directive("scrollDown",["$window","$location",i]).directive("toggleMobile",["$window","$location",a]).directive("loadingDirective",[s]).directive("innerLoadingDirective",[c]).directive("metaTags",[u]).directive("likeDirective",[d]).directive("followDirective",[g]).directive("smallLoadingDirective",[l]).directive("bindHtmlCompile",["$compile",r]).directive("imageReplacementDirective",[p]).directive("imagesListDirective",[t]).directive("singleImageDirective",[o])}(window.angular),function(e){"use strict";e.module("app.review",[])}(window.angular),function(e){function t(e,t,o,r,n){function i(){o.getStore(t.storeId).then(function(e){a.storeData=e.data,a.loading=!1}),o.getStoreRating(t.storeId).then(function(e){a.storeData.storeRatingAvg=e.data})}var a=this;a.storeData={},i(),a.uploadStoreBanner=function(e,o){a.f=e,a.errFile=o&&o[0],e&&(a.bannerLoading=!0,e.upload=r.upload({url:n.baseUrl+"upload/storeBannerUpload/"+t.storeId,data:{file:e}}),e.upload.then(function(t){e.result=t.data,console.log(t.data),$(".adminStoreBannerImage").css("background-image","url("+t.data+")"),a.bannerLoading=!1}))}}e.module("app.admin").controller("AdminStoreController",["$scope","$routeParams","getSingleStore","Upload","baseUrlService",t])}(window.angular),function(e){function t(){}e.module("app.admin").controller("CreateOfferController",[t])}(window.angular),function(e){function t(t,o,r,n,i,a,s){function c(){n.createProduct(u.productForm,t.storeId).then(function(e){s.show(s.alert().clickOutsideToClose(!0).title("Product created").textContent("Your Product has been created.").ariaLabel("Alert Dialog Demo").ok("Got it!")),r.reload()},function(e){console.log(e)})}function l(){}var u=this;u.productForm={},u.productForm.price={},u.productForm.category=[],u.productForm.subCategory=[],u.productForm.productImages=[],l(),u.createProduct=c,u.uploadMultipleImages=function(t){u.files=t,e.forEach(t,function(e){u.formImgListLoading=!0,e.upload=i.upload({url:a.baseUrl+"upload/singleUpload",data:{file:e}}),e.upload.then(function(t){o(function(){e.result=t.data,u.productForm.productImages.push(t.data),u.formImgListLoading=!1})},function(e){e.status>0&&(u.errorMsg=e.status+": "+e.data)},function(t){e.progress=Math.min(100,parseInt(100*t.loaded/t.total))})})},u.uploadSingleImage=function(e,t){console.log("Enterd file uploading"),u.f=e,u.errFile=t&&t[0],e&&(u.formBannerLoading=!0,e.upload=i.upload({url:a.baseUrl+"upload/singleUpload",data:{file:e}}),e.upload.then(function(t){e.result=t.data,u.productForm.bannerImage=t.data,console.log(t.data),$(".productMainImage").css("background-image","url("+t.data+")"),u.formBannerLoading=!1}))}}e.module("app.admin").controller("CreateProductController",["$routeParams","$timeout","$route","adminProductService","Upload","baseUrlService","$mdDialog",t])}(window.angular),function(e){function t(t,o,r,n,i,a,s,c){function l(){d.storeForm.bannerImage=d.storeForm.storeImages[0],o.createStore(d.storeForm).then(function(e){console.log(e.data._id),n.setUser(),c.show(c.alert().clickOutsideToClose(!0).title("Store created").textContent("Your Store has been created.").ariaLabel("Alert Dialog Demo").ok("Got it!")),s.url("/admin/adminStorePage/"+e.data._id)},function(e){console.log(e)})}function u(){}var d=this;d.storeForm={},d.storeForm.storeImages=[],d.storeForm.category=[],d.storeForm.subCategory=[],u(),d.createStore=l,d.uploadSingleImage=function(e,t){d.f=e,d.errFile=t&&t[0],e&&(d.formBannerLoading=!0,e.upload=r.upload({url:a.baseUrl+"upload/singleUpload",data:{file:e}}),e.upload.then(function(t){e.result=t.data,d.uploadedImage=t.data,$(".adminStoreBannerImage").css("background-image","url("+t.data+")"),d.formBannerLoading=!1}))},d.uploadMultipleImages=function(t){d.files=t,d.formImgListLoading=!0,e.forEach(t,function(e){d.formImgListLoading=!0,e.upload=r.upload({url:a.baseUrl+"upload/singleUpload",data:{file:e}}),e.upload.then(function(t){i(function(){e.result=t.data,console.log(t.data),d.storeForm.storeImages.push(t.data),d.formImgListLoading=!1})},function(e){e.status>0&&(d.errorMsg=e.status+": "+e.data)},function(t){e.progress=Math.min(100,parseInt(100*t.loaded/t.total))})})}}e.module("app.admin").controller("CreateStoreController",["$auth","adminStoreService","Upload","userData","$timeout","baseUrlService","$location","$mdDialog",t])}(window.angular),function(e){function t(e,t,o,r){function n(){t.updateProduct(o.productId,a.productForm).then(function(e){console.log(e),r.show(r.alert().clickOutsideToClose(!0).title("Product Edited").textContent("Your Product has been edited.").ariaLabel("Alert Dialog Demo").ok("Got it!"))},function(e){console.log(e)})}function i(){t.getProduct(o.productId).then(function(e){console.log(e),e.data.category=e.data.category.join(","),e.data.subCategory=e.data.subCategory.join(","),e.data.keywords=e.data.keywords.join(","),console.log(e),a.productForm=e.data})}var a=this;a.productForm={},i(),a.createProduct=n}e.module("app.admin").controller("EditProductController",["$auth","adminProductService","$routeParams","$mdDialog",t])}(window.angular),function(e){function t(t,o,r,n,i,a,s,c){function l(){r.updateStore(i.storeId,d.storeForm).then(function(e){console.log(e),c.show(c.alert().clickOutsideToClose(!0).title("Store edited").textContent("Your Store has been edited.").ariaLabel("Alert Dialog Demo").ok("Got it!")),o.reload()},function(e){console.log(e)})}function u(){r.getStore(i.storeId).then(function(e){e.data.category=e.data.category,e.data.subCategory=e.data.subCategory,e.data.keywords=e.data.keywords.join(","),console.log(e),d.storeForm=e.data})}var d=this;d.storeForm={},u(),d.createStore=l,d.uploadSingleImage=function(e,t){console.log("Enterd file uploading"),d.f=e,d.errFile=t&&t[0],e&&(d.formBannerLoading=!0,e.upload=n.upload({url:s.baseUrl+"upload/singleUpload",data:{file:e}}),d.spinnerLoading=!0,e.upload.then(function(t){e.result=t.data,d.storeForm.bannerImage=t.data,d.formBannerLoading=!1}))},d.uploadMultipleImages=function(t){d.files=t,e.forEach(t,function(e){d.formImgListLoading=!0,e.upload=n.upload({url:s.baseUrl+"upload/singleUpload",data:{file:e}}),e.upload.then(function(t){a(function(){e.result=t.data,console.log(t.data),d.storeForm.storeImages.push(t.data),d.formImgListLoading=!1})},function(e){e.status>0&&(d.errorMsg=e.status+": "+e.data)},function(t){e.progress=Math.min(100,parseInt(100*t.loaded/t.total))})})}}e.module("app.admin").controller("EditStoreController",["$auth","$route","adminStoreService","Upload","$routeParams","$timeout","baseUrlService","$mdDialog",t])}(window.angular),function(e){function t(){}e.module("app.admin").controller("StoreStatisticsController",[t])}(window.angular),function(e){"use strict";function t(e,t,o){function r(o,r){return e.get(t.baseUrl)}function n(o,r){return e.post(t.baseUrl+"admin/products/"+r,o)}function i(o,r){return e.put(t.baseUrl+"admin/product/"+o,r)}function a(o,r){return e.get(t.baseUrl+"admin/product/"+o,{params:r})}function s(){}this.checkProductAdmin=r,this.createProduct=n,this.getProduct=a,this.updateProduct=i,this.deleteProduct=s}e.module("app.admin").service("adminProductService",["$http","baseUrlService","changeBrowserURL",t])}(window.angular),function(e){"use strict";function t(e,t,o){function r(o,r){return e.get(t.baseUrl)}function n(o){return e.post(t.baseUrl+"admin/stores",o)}function i(o,r){return e.put(t.baseUrl+"admin/store/"+o,r)}function a(o,r){return e.get(t.baseUrl+"admin/store/"+o,{params:r})}function s(){}this.checkStoreAdmin=r,this.createStore=n,this.getStore=a,this.updateStore=i,this.deleteStore=s}e.module("app.admin").service("adminStoreService",["$http","baseUrlService","changeBrowserURL",t])}(window.angular),function(e){function t(e,t,o,r,n){function i(){n.getChatMessages(c.chatRoomId).then(function(e){c.chatList=e.data[0].chats,$(".chatBoxUL").animate({scrollTop:99999999},"slow"),c.innerLoading=!1},function(e){console.log(e)})}function a(){n.getChatRoom().then(function(e){console.log("the response"),console.log(e),c.chatRoomId=e.data._id,s(),i()},function(e){console.log(e)})}function s(){t.emit("addToRoom",{roomId:c.chatRoomId}),t.on("messageSaved",function(e){c.chatList.push(e),$(".chatBoxUL").animate({scrollTop:99999999},"slow")})}var c=this;c.currentUser=r.getUser()._id,c.innerLoading=!0,c.chatRoomId="",c.messageLoading=!1,a(),c.sendMsg=function(e){if(13==e.which&&!e.shiftKey&&c.myMsg){c.messageLoading=!0;var t={message:c.myMsg,user:c.currentUser,roomId:c.chatRoomId};n.sendChatMessage(t).then(function(e){c.myMsg="",c.messageLoading=!1},function(e){console.log(e)})}},c.clickSubmit=function(){if(c.myMsg){c.messageLoading=!0;var e={message:c.myMsg,user:c.currentUser,roomId:c.chatRoomId};n.sendChatMessage(e).then(function(e){c.myMsg="",c.messageLoading=!1},function(e){console.log(e)})}}}e.module("app.chat").controller("ChatBoxController",["$scope","Socket","$routeParams","userData","chatService",t])}(window.angular),function(e){function t(e,t,o,r,n){function i(e){n.changeBrowserURLMethod("/chatBox/"+e.creator1._id+"/"+e.creator2._id)}function a(){r.getChatRoomList(c.currentUser).then(function(e){c.chatRoomList=e.data,c.innerLoading=!1},function(e){console.log(e)})}function s(){a()}var c=this;c.currentUser=o.getUser()._id,c.innerLoading=!0,s(),c.openChatbox=i}e.module("app.chat").controller("ChatRoomListController",["$scope","$routeParams","userData","chatService","changeBrowserURL",t])}(window.angular),function(e){"use strict";function t(e,t,o){function r(t){return e.post(o.baseUrl+"chat/chats/"+t.roomId,t)}function n(t){return e.get(o.baseUrl+"chat/chats/"+t)}function i(){return e.get(o.baseUrl+"chat/chatBox/"+t.creator1+"/"+t.creator2)}function a(t){return e.get(o.baseUrl+"chat/chatRooms/"+t)}var s=this;s.sendChatMessage=r,s.getChatMessages=n,s.getChatRoom=i,s.getChatRoomList=a}e.module("app.chat").service("chatService",["$http","$routeParams","baseUrlService",t])}(window.angular),function(e){"use strict";function t(e,t){return e({prefix:"",ioSocket:io.connect(t)})}e.module("app.chat").factory("Socket",["socketFactory","baseUrlService",t])}(window.angular),angular.module("app.chat").factory("SocketUserService",["socketFactory","userData",socketFactoryFunction]),function(e){"use strict";function t(e,t,o,r,n,i,a,s){function c(){a.cancel()}function l(e){console.log("entered auth"),o.socialAuthenticate(e)}function u(){t.changeBrowserURLMethod("/")}function d(){t.changeBrowserURLMethod("/login")}function g(e){r.authenticate(e).then(function(e){s.setUser(e.data.user),alert("login with facebook successfull"),n.location.reload()})}function p(){r.logout(),s.removeUser(),u()}var h=this;h.toHomePage=u,h.authenticate=g,h.authLogout=p,h.loginPage=d,h.socialAuthenticate=l,h.cancelDialog=c,h.tab=1,h.setTab=function(e){h.tab=e},h.isSet=function(e){return h.tab===e},h.isAuth=r.isAuthenticated()}e.module("app.home").controller("AuthenticationModalController",["$scope","changeBrowserURL","userAuthService","$auth","$window","$route","$mdDialog","userData",t])}(window.angular),function(e){"use strict";function t(e,t,o,r){function n(){e.path("/signup")}function i(){o.login(a.user).then(function(e){r.setUser(e.data.user),alert("Login successfull"),t.location.reload()},function(e){a.message=e.data.message,console.log(e)})}var a=this;a.user={},a.submitLogin=i,a.signUp=n,a.authenticate=function(t){o.authenticate(t),e.path("/")}}e.module("authModApp").controller("LoginController",["$location","$window","$auth","userData",t])}(window.angular),function(e){"use strict";function t(e,t,o,r){function n(){o.signup(i.user).then(function(e){console.log(e),i.message=e.data.message},function(e){i.message=e.data.message,console.log(e)})}var i=this;i.user={},i.formSubmit=n}e.module("authModApp").controller("RegisterCtrl",["$scope","userData","$auth","$location",t])}(window.angular),function(e){"use strict";e.module("authModApp").directive("sameAs",function(){return{require:"ngModel",restrict:"EA",link:function(e,t,o,r){function n(t){var n=t===e.$eval(o.sameAs);return r.$setValidity("equal",n),n?t:void 0}console.log(o),console.log(o.sameAs),r.$parsers.push(n),r.$formatters.push(n),e.$watch(o.sameAs,function(){r.$setViewValue(r.$viewValue)})}}})}(window.angular),function(e){"use strict";function t(t,o,r,n,i,a){function s(t){n.show({controller:"AuthenticationModalController",controllerAs:"amc",templateUrl:"app/authentication/views/authenticationModalTemplate.html",parent:e.element(document.body),targetEvent:t,clickOutsideToClose:!0,fullscreen:!0}).then(function(e){},function(){})}function c(e){console.log("entered authwww"),o.authenticate(e).then(function(e){i.setUser(e.data.user),alert("login with facebook successfull"),a.location.reload()})}this.socialAuthenticate=c,this.showAuthenticationDialog=s}e.module("authModApp").service("userAuthService",["$http","$auth","baseUrlService","$mdDialog","userData","$window",t])}(window.angular),function(e){"use strict";function t(e,t,o,r,n,i){var a=e.localStorage,s={},c={setUser:function(e){if(e)a.setItem("user",JSON.stringify(e));else{var t=o.getPayload().sub;t&&r.get(n.baseUrl+"authenticate/user/"+t).then(function(e){c.isUserExists()&&a.removeItem("user"),a.setItem("user",JSON.stringify(e.data.user))},function(e){console.log(e)})}},getUser:function(){return JSON.parse(a.getItem("user"))},removeUser:function(){s=null,a.removeItem("user")},isUserExists:function(){return c.getUser()?!0:!1},getUserPage:function(e){var t="/user/"+e;i.changeBrowserURLMethod(t)}};return c}e.module("authModApp").factory("userData",["$window","$route","$auth","$http","baseUrlService","changeBrowserURL",t])}(window.angular),function(e){"use strict";function t(e,t,o,r,n){function i(e){o.showAuthenticationDialog(e)}function a(){t.logout(),n.removeUser(),r.location.reload()}function s(e){o.socialAuthenticate(e)}var c=this;c.authenticate=s,c.authLogout=a,c.showAuthenticationDialog=i,c.isAuth=t.isAuthenticated()}e.module("app.home").controller("AuthController",["$scope","$auth","userAuthService","$window","userData",t])}(window.angular),function(e){"use strict";function t(t,o,r,n,i,a,s,c){function l(e){return function(){c(e).toggle().then(function(){console.log("toggle "+e+" is done")})}}function u(){r.changeBrowserURLMethod("/")}function d(e){n.authenticate(e),u()}function g(){n.logout(),u()}function p(o){(a("sm")||a("xs"))&&t.customFullscreen;i.show({controller:"ModalFormLoginController",templateUrl:"app/home/views/modalFormLogin.html",parent:e.element(document.body),targetEvent:o,clickOutsideToClose:!0,fullscreen:h.customFullscreen}).then(function(e){t.status='You said the information was "'+e+'".'},function(){t.status="You cancelled the dialog."}),t.$watch(function(){return a("md")||a("xl")},function(e){h.customFullscreen=e===!0})}var h=this;h.toHomePage=u,h.authenticate=d,h.authLogout=g,h.showAdvanced=p,h.customFullscreen=void 0,h.isAuth=n.isAuthenticated(),h.isOpenLeft=function(){return c("left").isOpen()},h.toggleLeft=l("left")}e.module("app.home").controller("HeaderController",["$scope","userData","changeBrowserURL","$auth","$mdDialog","$mdMedia","$timeout","$mdSidenav",t])}(window.angular),function(e){"use strict";function t(e,t,o,r,n){function i(){c.getCategories()}function a(e){var t=o.getCity(),n=e+"-stores-in-"+t,i="/store/storesCollection/category/"+e+"/"+t+"/"+n;r.changeBrowserURLMethod(i)}function s(){c.categoryList=[],t.getCityCategories(o.getCity()).then(function(e){c.categoryList=e.data,c.innerLoading=!1})}var c=this;c.cateList=[],c.categLoadMore=!1,c.pageNo=0,c.getCategories=s,c.categoryLinkClicked=a,i(),c.innerLoading=!0,e.$on("city-changed",function(){c.getCategories()})}function o(e,t,o,r){}e.module("app.home").controller("HomeController",["$scope","citiesService","searchService","changeBrowserURL",o]).controller("CategoryListController",["$scope","getCityCategoriesService","cityStorage","changeBrowserURL","baseUrlService",t])}(window.angular),function(e){"use strict";function t(e,t,o){console.log("inside the mdSidenav"),this.close=function(){t("left").close().then(function(){o.debug("close RIGHT is done")})}}e.module("app.home").controller("HomeLeftController",["$timeout","$mdSidenav","$log",t])}(window.angular),function(e){"use strict";function t(e,t,o){function r(e){o.showAuthenticationDialog(e)}var n=this;n.authCheck=t.isAuthenticated(),n.showAuthenticationDialog=r}e.module("app.home").controller("MobileFooterController",["$scope","$auth","userAuthService",t])}(window.angular),function(e){"use strict";function t(e,t,o,r){var n=this;n.isAuth=r.isAuthenticated()}e.module("app.home").controller("MobileHomePageController",["$scope","changeBrowserURL","cityStorage","$auth",t])}(window.angular),function(e){"use strict";function t(e,t,o,r,n,i,a){function s(){f.mobileSearchBoxVisible=!0}function c(e){e||(e={});var o=e.userSearchString.split("#&#")[1],r=e.userSearchString.split("#&#")[0],n=f.selectedItem;f.slug=r+"-"+o.split("-")[0]+"s-in-"+n,"store"==o?f.url="/store/storesCollection/storeName/":"store-category"==o?f.url="/store/storesCollection/category/":"product"==o?f.url="/productsCollectionName/":"product-category"==o?f.url="/productsCollectionCategory/":"product-subcategory"==o?f.url="/productsCollectionSubCategory/":"All products in"==o.trim()?p():g(),t.location="#"+f.url+r+"/"+n+"/"+f.slug}function l(e,t){t.length>=1?i.getAjaxSearches(e,t).then(function(e){f.userSearches=[];var t={userSearchString:"#&#All stores in #&#"+f.selectedItem},o={userSearchString:"#&#All products in #&#"+f.selectedItem};f.userSearches=e.data,f.userSearches.unshift(t,o)}):f.selectedItem&&u(f.selectedItem)}function u(e){r.setCity(e),i.getSearches(e).then(function(e){var t={userSearchString:"#&#All stores in #&#"+f.selectedItem},o={userSearchString:"#&#All products in #&#"+f.selectedItem};f.userSearches=e.data,f.userSearches.unshift(t,o)},function(e){console.log(e)})}function d(){-1!=f.cities.indexOf(f.selectedItem)&&(f.userSearchText&&0!==f.userSearchText.length||g())}function g(){f.url="/store/storesCollection/location";var e=f.selectedItem;f.slug="stores-in-"+e,a.changeBrowserURLMethod(f.url+"/"+e+"/"+f.slug)}function p(){f.url="/productsCollectionLocation";var e=f.selectedItem;f.slug="products-in-"+e,a.changeBrowserURLMethod(f.url+"/"+e+"/"+f.slug)}function h(){n.getCities().then(function(e){f.cities=e.data},function(e){f.cities=e})}var f=this;f.selectedItem=o.location?o.location:r.isCityExists()?r.getCity():"hyderabad",h(),f.userSearches=[],f.selectedItemChange=u,f.userSearchItemChange=c,f.locationSearch=d,f.userSearchTextChange=l,f.openSearchBox=s,f.selectedItemChange(f.selectedItem)}e.module("app.home").controller("SearchBoxController",["$scope","$window","$routeParams","cityStorage","citiesService","searchService","changeBrowserURL",t])}(window.angular),function(e){"use strict";function t(e,t,o){function r(e){o.changeBrowserURLMethod("/admin/adminStorePage/"+e)}function n(){t.getUserPage(t.getUser()._id)}function i(e,t){c=t,e(t)}function a(){o.changeBrowserURLMethod("/admin/createStore/");

}function s(){l.user=t.getUser(),l.userProfilePic=t.getUser().picture,l.userStoresList=t.getUser().storeId}var c,l=this;l.openMenu=i,l.getUserPage=n,l.getAdminStore=r,l.createNewStore=a,s()}e.module("app.user").controller("UserActionListController",["$scope","userData","changeBrowserURL",t])}(window.angular),function(e){"use strict";function t(e,t){var o,r=this;t.on("connect",function(){t.emit("addToSingleRoom",{roomId:e.getUser()._id})}),t.on("newMessageReceived",function(t){t.user._id==e.getUser()._id||(r.messageReceived=!0)}),r.openMenu=function(e,t){o=t,e(t),r.messageReceived=!1}}e.module("app.home").controller("UserChatNotificationController",["userData","Socket",t])}(window.angular),function(e){function t(){}e.module("app.product").controller("ProductCategoryCollectionController",[t])}(window.angular),function(e){"use strict";function t(e,t,o,r,n,i,a){function s(e,t){var o="product/singleProduct/"+e._id;t&&n.changeBrowserURLMethod(o,t),n.changeBrowserURLMethod(o)}function c(){u.loading=!0,u.pageNo=u.pageNo+1;var e=r.location,t="";if(-1!=o.absUrl().indexOf("/productsCollectionCategory/")){var n=r.category;t="product/products/category/"+n+"/"+e+"/"+u.pageNo}else if(-1!=o.absUrl().indexOf("/productsCollectionSubCategory/")){var i=r.subCategory;t="product/products/subCategory/"+i+"/"+e+"/"+u.pageNo}else if(-1!=o.absUrl().indexOf("/productsCollectionName/")){var s=r.productName;t="product/products/name/"+s+"/"+e+"/"+u.pageNo}else-1!=o.absUrl().indexOf("/productsCollectionLocation/")&&(t="product/products/location/"+e+"/"+u.pageNo);a.getProductCollection(t,u.paramData).then(function(e){if(u.noProductsToShow=0===e.data.docs.length?!0:!1,u.totalProducts=e.data.total,0===u.productsList.length){for(var t=[],o=e.data.docs.length-1;o>=0;o--)t.push(e.data.docs[o]);u.productsList=t}else{u.paramData&&1==u.pageNo&&(u.productsList=[]);for(var r=e.data.docs.length-1;r>=0;r--)u.productsList.push(e.data.docs[r])}u.loading=!1},function(e){console.log(e)})}function l(){u.getProductsCollection()}var u=this;u.pageNo=0,u.productsList=[],u.getSingleProduct=s,u.getProductsCollection=c,u.productsSearchHeader=r.slug,console.log("inside product"),l(),e.$on("parent",function(e,t){u.pageNo=0,u.paramData=t,u.getProductsCollection()})}e.module("app.product").controller("ProductListController",["$scope","$auth","$location","$routeParams","changeBrowserURL","baseUrlService","getProductCollectionService",t])}(window.angular),function(e){function t(){}e.module("app.product").controller("ProductNameCollectionController",[t])}(window.angular),function(e){function t(e,t,o,r,n){function i(){u.majorFilter.area=u.areaModel.area,l(u.majorFilter)}function a(){delete u.majorFilter.area,u.areaModel={},l(u.majorFilter)}function s(){u.majorFilter.category=u.categoryModel.category,l(u.majorFilter)}function c(){delete u.majorFilter.category,u.categoryModel={},l(u.majorFilter)}function l(t){e.$broadcast("parent",t)}var u=this;u.areaModel={},u.categoryModel={},u.launchFilterEvent=l,u.areaRadioClicked=i,u.categoryRadioClicked=s,u.majorFilter={},u.clearAreaFilters=a,u.clearCategoryFilters=c;var d=t.location;o.getCityLocalities(d).then(function(e){u.areas=e.data},function(e){}),r.getCityCategories(d).then(function(e){u.categories=e.data},function(e){console.log(e)})}e.module("app.product").controller("ProductsLocationController",["$scope","$routeParams","getCityProductLocalitiesService","getCityProductCategoriesService","getCityProductSubCategoriesService",t])}(window.angular),function(e){function t(){}e.module("app.product").controller("ProductSubCategoryCollectionController",[t])}(window.angular),function(e){"use strict";function t(e,t,o,r,n,i){function a(){o.getSingleProduct(i.productId).then(function(e){s.product=e.data})}var s=this;s.authCheck=t.isAuthenticated(),a()}e.module("app.product").controller("SingleProductController",["$scope","$auth","getProductsService","$location","scrollToIdService","$routeParams",t])}(window.angular),function(e){"use strict";function t(e,t,o,r,n,i,a){function s(e){var t="/product/singleProduct/"+e;a.changeBrowserURLMethod(t)}function c(){i.getStoreProductsList(n.storeId).then(function(e){l.storeProductsList=e.data.docs,l.noProductsInStore=0===e.data.docs.length?!0:!1})}var l=this;l.storeProductsList=[],l.pageNo=0,l.getSingleProduct=s,c()}e.module("app.product").controller("StoreProductListController",["$scope","$auth","$location","scrollToIdService","$routeParams","getProductsService","changeBrowserURL",t])}(window.angular),function(e){function t(){return{restrict:"E",replace:!0,templateUrl:"app/product/views/singleProductTemplate.html",scope:{product:"=singleProduct"},link:function(e,t,o){}}}e.module("app.product").directive("singleProductDirective",[t])}(window.angular),function(e){"use strict";function t(e,t){function o(o,r){return console.log(r),e.get(t.baseUrl+o,{params:r})}function r(){return e.get(t.baseUrl+"product/products/name/:name/:location/:pageNo",{params:paramData})}this.getProductCollection=o,this.getProductNameCollection=r}e.module("app.product").service("getProductCollectionService",["$http","baseUrlService",t])}(window.angular),function(e){"use strict";function t(e,t,o,r){function n(t){var r=1;return e.get(o.baseUrl+"product/products/store/"+t+"/"+r)}function i(t){return e.get(o.baseUrl+"product/products/singleProduct/"+t)}function a(e,t){var o="product/singleProduct/"+e._id+"/"+(e.myslug||" ");t&&r.changeBrowserURLMethod(o,t),r.changeBrowserURLMethod(o)}this.getStoreProductsList=n,this.getSingleProduct=i,this.getSingleProductPage=a}e.module("app.product").service("getProductsService",["$http","storeData","baseUrlService","changeBrowserURL",t])}(window.angular),function(e){"use strict";function t(e,t,o,r,n){function i(){a()}function a(){var e={location:c.currentCity,page:1,limit:10,sort:"-count"};n.categoryCollection(e).then(function(e){c.categoryBoxList=e.data.docs.map(function(e){var t={};return t.category=e,t.storesList=[],s(t),t})})}function s(e){var t={};t.location=c.currentCity,t.category=e.category,t.page=1,t.limit=6,n.storesCollection(t).then(function(t){e.storesList=t.data.docs})}var c=this;c.isAuth=r.isAuthenticated(),c.storeCategoryCollection=s,i(),c.categoryBoxList=[],c.currentCity=o.getCity()||"hyderabad"}e.module("app.home").controller("CategoryBoxListController",["$scope","changeBrowserURL","cityStorage","$auth","getStoreCollectionService",t])}(window.angular),function(e){"use strict";function t(t,o,r,n,i,a,s,c,l,u){function d(){return Object.keys(p.storeData.address).map(function(e){return p.storeData.address[e]}).join(" ")}function g(t){c.show({controller:"UserStoreReportController",controllerAs:"usr",templateUrl:"app/store/views/userStoreReportTemplate.html",parent:e.element(document.body),targetEvent:t,clickOutsideToClose:!0,fullscreen:!0}).then(function(e){},function(){})}l.getMap().then(function(e){});var p=this;p.tab=1,p.setTab=function(e){p.tab=e},p.isSet=function(e){return p.tab===e},p.storeData={},p.loading=!0,p.authCheck=o.isAuthenticated(),p.authCheck&&(p.currentUserId=n.getUser()._id),p.getAddressString=d,p.showStoreReportDialog=g,p.storeImagesObj=[],t.showAlert=function(t){c.show(c.alert().parent(e.element(document.querySelector("#popupContainer"))).clickOutsideToClose(!0).title("Claim Business").textContent("If you are the owner of this store,then mail to us at shoppinsmail@gmail.com").ariaLabel("Alert Dialog Demo").ok("Got it!").targetEvent(t))},s.getStore(i.storeId).then(function(e){a.setStore(e.data),p.storeData=e.data,p.addressMap=p.storeData.address.area,p.pos=p.storeData.address.latitude?[p.storeData.address.latitude,p.storeData.address.longitude]:[17.361625,78.474622];for(var t=0;t<p.storeData.storeImages.length;t++){var o={};o.src=p.storeData.storeImages[t],p.storeImagesObj.push(o)}p.loading=!1,u.getStoreCollection("store/storesCollection/stores/"+p.storeData.address.city+"/1",{limit:9}).then(function(e){p.storeSuggestions=e.data.docs})}),s.getStoreRating(i.storeId).then(function(e){p.storeData.storeRatingAvg=e.data})}e.module("app.store").controller("SingleStoreController",["$scope","$auth","$location","userData","$routeParams","storeData","getSingleStore","$mdDialog","NgMap","getStoreCollectionService",t])}(window.angular),function(e){"use strict";function t(e,t,o,r){function n(){s.majorFilter.area=s.areaModel.area,a(s.majorFilter)}function i(){delete s.majorFilter.area,s.areaModel={},a(s.majorFilter)}function a(t){e.$broadcast("parent",t)}var s=this;s.areaModel={},s.launchFilterEvent=a,s.areaRadioClicked=n,s.majorFilter={},s.clearAreaFilters=i;var c=t.location;o.getCityLocalities(c).then(function(e){s.areas=e.data},function(e){console.log(e)}),r.getCityCategories(c).then(function(e){s.categories=e.data},function(e){console.log(e)})}e.module("app.store").controller("StoreCategoryCollectionController",["$scope","$routeParams","getCityLocalitiesService","getCityCategoriesService",t])}(window.angular),function(e){function t(e,t){var o=this;o.address={},o.SendData=function(){data={},data.name=o.name,data.city=o.address.city,data.address=o.address,data.category=o.categoryString.split(",");var r={headers:{"Content-Type":"application/json"}};t.post(e.baseUrl+"store/store",data,r).then(function(e){},function(e){console.log(e)})}}e.module("app.store").controller("StoreController",["baseUrlService","$http",t])}(window.angular),function(e){"use strict";function t(e,t,o,r,n,i){function a(e,t){var r="store/singleStore/"+e._id+"/"+e.myslug;t&&o.changeBrowserURLMethod(r,t),o.changeBrowserURLMethod(r)}function s(){l.loading=!0,l.pageNo=l.pageNo+1;var e=t.location,o="";if(-1!=r.absUrl().indexOf("/category/")){var n=t.category;o="store/storesCollection/category/"+n+"/"+e+"/"+l.pageNo}else if(-1!=r.absUrl().indexOf("/storeName/")){var a=t.storeName;o="store/storesCollection/storeName/"+a+"/"+e+"/"+l.pageNo}else o="store/storesCollection/stores/"+e+"/"+l.pageNo;i.getStoreCollection(o,l.paramData).then(function(e){if(l.totalStores=e.data.total,console.log(e),0===l.storesList.length){for(var t=[],o=e.data.docs.length-1;o>=0;o--)t.push(e.data.docs[o]);l.storesList=t}else{l.paramData&&1==l.pageNo&&(l.storesList=[]);for(var r=e.data.docs.length-1;r>=0;r--)l.storesList.push(e.data.docs[r])}l.loading=!1},function(e){console.log(e)})}function c(){l.getStoresCollection()}var l=this;l.pageNo=0,l.storesList=[],l.getSingleStore=a,l.getStoresCollection=s,l.storesSearchHeader=t.slug,c(),e.$on("parent",function(e,t){l.pageNo=0,l.paramData=t,l.getStoresCollection()})}e.module("app.store").controller("StoreListController",["$scope","$routeParams","changeBrowserURL","$location","baseUrlService","getStoreCollectionService",t])}(window.angular),function(e){"use strict";function t(e,t,o,r){function n(){l.majorFilter.area=l.areaModel.area,c(l.majorFilter)}function i(){delete l.majorFilter.area,l.areaModel={},c(l.majorFilter)}function a(){l.majorFilter.category=l.categoryModel.category,c(l.majorFilter)}function s(){delete l.majorFilter.category,l.categoryModel={},c(l.majorFilter)}function c(t){e.$broadcast("parent",t)}var l=this;l.areaModel={},l.categoryModel={},l.launchFilterEvent=c,l.areaRadioClicked=n,l.categoryRadioClicked=a,l.majorFilter={},l.clearAreaFilters=i,l.clearCategoryFilters=s;var u=t.location;o.getCityLocalities(u).then(function(e){l.areas=e.data},function(e){console.log(e)}),r.getCityCategories(u).then(function(e){l.categories=e.data},function(e){console.log(e)})}e.module("app.store").controller("StoreLocationCollectionController",["$scope","$routeParams","getCityLocalitiesService","getCityCategoriesService",t])}(window.angular),function(e){function t(){}e.module("app.store").controller("StoreNameCollectionController",[t])}(window.angular),function(e){function t(e,t,o,r,n){function i(){n.submitFollow(c.follow).then(function(e){c.userStoreFollowed=!0,r.setUser()},function(e){console.log(e)})}function a(){n.deleteFollow(c.follow).then(function(e){c.userStoreFollowed=!1,r.setUser(),console.log(e)},function(e){console.log(e)})}function s(){c.follow.userId=r.getUser()._id,o.storeId?(c.entity=o.storeId,c.follow.storeId=o.storeId):o.productId&&(c.entity=o.productId,c.follow.productId=o.productId,c.getFollowParamObj.productId=o.productId),t.isAuthenticated()&&-1!=r.getUser().storeFollowing.indexOf(o.storeId)&&(c.userStoreFollowed=!0)}var c=this;c.follow={},c.followCheck=!1,c.getFollowParamObj={},c.submitFollow=i,c.deleteFollow=a,c.getFollowParamObj.userId=r.getUser()._id,c.userStoreFollowed=!1,s()}e.module("app.store").controller("UserStoreFollowController",["$scope","$auth","$routeParams","userData","userFollowService",t])}(window.angular),function(e){function t(e,t,o,r,n,i){function a(){i.hide()}function s(){i.cancel()}function c(){console.log(u.report),u.innerLoading=!0,n.submitStoreReport(u.report).then(function(e){u.innerLoading=!1,u.showReportForm=!1},function(e){console.log(e)})}function l(){console.log("the auth"),console.log(t.getPayload().sub)}var u=this;u.report={},u.getReportParamObj={},u.showReportForm=!0,u.submitUserReport=c,u.getReportParamObj.userId=r.getUser()._id,u.report.userId=r.getUser()._id,u.report.storeId=o.storeId,u.hideReportDialog=a,u.reportDialogCancel=s,e.answer=function(e){i.hide(e)},l()}e.module("app.store").controller("UserStoreReportController",["$scope","$auth","$routeParams","userData","userService","$mdDialog",t])}(window.angular),function(e){function t(e,t,o,r,n,i){function a(){n.submitUpvote(l.upvote).then(function(e){l.userStoreUpvoted=!0,r.setUser()},function(e){console.log(e)})}function s(){n.deleteUpvote(l.upvoteId).then(function(e){l.userStoreUpvoted=!1,r.setUser()},function(e){console.log(e)})}function c(){if(l.upvote.userId=r.getUser()._id,o.storeId?(l.upvote.storeId=o.storeId,l.upvote.type="store"):o.productId&&(l.upvote.type="product",l.upvote.productId=o.productId),t.isAuthenticated())for(var e=i.getStore(),n=r.getUser(),a=0;a<e.upvotes.length;a++)for(var s=0;s<n.upvotes.length;s++)e.upvotes[a]==n.upvotes[s]&&(l.userStoreUpvoted=!0,l.upvoteId=e.upvotes[a],console.log(l.upvoteId))}var l=this;l.upvote={},l.upvoteCheck=!1,l.getUpvoteParamObj={},l.submitUpvote=a,l.deleteUpvote=s,l.getUpvoteParamObj.userId=r.getUser()._id,l.userStoreUpvoted=!1,c()}e.module("app.store").controller("UserStoreUpvoteController",["$scope","$auth","$routeParams","userData","userUpvoteService","storeData",t])}(window.angular),function(e){function t(e,t,o,r,n){function i(){n.submitVisit(c.visit).then(function(e){r.setUser(),c.userStoreVisited=!0},function(e){console.log(e)})}function a(){n.deleteVisit(c.visit).then(function(e){r.setUser(),c.userStoreVisited=!1},function(e){console.log(e)})}function s(){c.visit.userId=r.getUser()._id,o.storeId?(c.entity=o.storeId,c.visit.storeId=o.storeId,c.getVisitParamObj.storeId=o.storeId):o.productId&&(c.entity=o.productId,c.visit.productId=o.productId,c.getVisitParamObj.productId=o.productId),t.isAuthenticated()&&n.getVisit(c.visit).then(function(e){e.data[0]&&e.data[0]._id&&(c.userStoreVisited=!0)},function(e){console.log(e)})}var c=this;c.visit={},c.visitCheck=!1,c.getVisitParamObj={},c.submitVisit=i,c.deleteVisit=a,c.getVisitParamObj.userId=r.getUser()._id,c.userStoreVisited=!1,s()}e.module("app.store").controller("UserStoreVisitController",["$scope","$auth","$routeParams","userData","userVisitService",t])}(window.angular),function(e){"use strict";function t(){return{restrict:"E",templateUrl:"app/store/views/filterDirectiveTemplate.html",scope:{filterName:"@filterName",radioModel:"=radioModel",radioChange:"&radioChange",radioRepeat:"=radioRepeat",clearClick:"&clearClick"}}}function o(){return{restrict:"A",link:function(e,t,o){$(t).on("click",function(){$(this).addClass(o.addClass)})}}}function r(){return{restrict:"A",link:function(e,t,o){$(t).on("click",function(){$(this).siblings().removeClass(o.siblingRemoveClass)})}}}function n(){return{restrict:"A",link:function(e,t,o){$(t).on("click",function(){$(this).siblings(".filterDirectiveRadioGroup").find(".filterRadioButton").removeClass(o.removeClass)})}}}e.module("app.store").directive("filterDirective",[t]).directive("addClass",[o]).directive("removeClass",[n]).directive("siblingRemoveClass",[r])}(window.angular),function(e){function t(e){return{restrict:"A",link:function(t,o,r){$(o).on("click",function(){e.scrollToId(r.scrollToId)})}}}e.module("app.store").directive("scrollToId",["scrollToIdService",t])}(window.angular),function(e){function t(){return{restrict:"E",replace:!0,templateUrl:"app/store/views/singleStoreSuggestion.html",scope:{suggestedStore:"=suggestedStore"}}}e.module("app.store").directive("singleStoreSuggestion",[t])}(window.angular),function(e){"use strict";function t(e,t,o){function r(t,r){return e.get(o.baseUrl+t,{params:r})}function n(t){return e.get(o.baseUrl+"store/collection",{params:t})}function i(t){return e.get(o.baseUrl+"store/userSearch/storeCategories",{params:t})}this.getStoreCollection=r,this.storesCollection=n,this.categoryCollection=i}e.module("app.store").service("getStoreCollectionService",["$http","storeData","baseUrlService",t])}(window.angular),function(e){"use strict";function t(e,t,o,r){function n(t){var r={page:"1",limit:"10",obj:{x:"y"}};return e.get(o.baseUrl+"search/collections",{params:r}).then(function(e){console.log("testing basis"),console.log(e)}),e.get(o.baseUrl+"store/singleStore/"+t)}function i(t){return e.get(o.baseUrl+"review/ratings/store/"+t)}function a(e,t){var o="store/singleStore/"+e._id+"/"+(e.myslug||" ");t&&r.changeBrowserURLMethod(o,t),r.changeBrowserURLMethod(o)}this.getStore=n,this.getStoreRating=i,this.getSingleStorePage=a}e.module("app.store").service("getSingleStore",["$http","storeData","baseUrlService","changeBrowserURL",t])}(window.angular),function(e){"use strict";function t(){function e(e){var t=$("body");console.log("Inside the service of scroll");var o=$("#"+e);console.log(o),t.animate({scrollTop:o.offset().top})}this.scrollToId=e}e.module("app.store").service("scrollToIdService",[t])}(window.angular),function(e){"use strict";function t(e){var t=e.localStorage,o={setStore:function(e){t.setItem("store",JSON.stringify(e))},getStore:function(){return JSON.parse(t.getItem("store"))},removeStore:function(){t.removeItem("store")}};return o}e.module("app.store").factory("storeData",["$window",t])}(window.angular),function(e){"use strict";function t(e,t){function o(o){return e.get(t.baseUrl+"follow/followed",{params:o})}function r(o){return e.post(t.baseUrl+"store/submitStoreFollow",o)}function n(o){return e.post(t.baseUrl+"store/deleteStoreFollow",o)}this.submitFollow=r,this.deleteFollow=n,this.getFollow=o}e.module("app.store").service("userFollowService",["$http","baseUrlService",t])}(window.angular),function(e){"use strict";function t(e,t){function o(o){return e.get(t.baseUrl+"upvote/upvoted",{params:o})}function r(o){return e.post(t.baseUrl+"upvote/upvotes/storeUpvote",o)}function n(o){return e["delete"](t.baseUrl+"upvote/upvotes/"+o)}this.submitUpvote=r,this.deleteUpvote=n,this.getUpvote=o}e.module("app.store").service("userUpvoteService",["$http","baseUrlService",t])}(window.angular),function(e){"use strict";function t(e,t){function o(o){return e.get(t.baseUrl+"visit/visited",{params:o})}function r(o){return e.post(t.baseUrl+"visit/visits/store",o)}function n(o){return e["delete"](t.baseUrl+"visit/visits/",{params:o})}this.submitVisit=r,this.deleteVisit=n,this.getVisit=o}e.module("app.store").service("userVisitService",["$http","baseUrlService",t])}(window.angular),function(e){"use strict";function t(e,t,o,r,n,i,a){function s(){p.getProductReviews()}function c(){i.getProductReviews().then(function(e){p.reviewList=e.data},function(e){})}function l(e){for(var t=parseInt(e.rating),o=[],r=0;t>r;r++)o.push(r);return o}function u(e){for(var t=e.upvotes,o=0;o<t.length;o++)if(-1!=p.userUpvotes.indexOf(t[o]))return p.currentUpvoteId=t[o],!0}function d(e){p.smallLoadingModel[e._id]=!0,i.submitUserReviewUpvote({reviewId:e._id,productId:o.productId,userId:a.getUser()._id}).then(function(t){e.upvotes.push(t.data.id),p.userUpvotes.push(t.data.id),a.setUser(),p.smallLoadingModel[e._id]=!1})}function g(e){p.smallLoadingModel[e._id]=!0,i.deleteUserReviewUpvote({reviewId:e._id,productId:o.productId,userId:a.getUser()._id}).then(function(t){e.upvotes.splice(e.upvotes.indexOf(t.data.id),1),a.setUser(),p.smallLoadingModel[e._id]=!1})}var p=this;p.activate=s,p.smallLoadingModel={},p.getProductReviews=c,p.getRating=l,p.userReviewUpvoted=u,p.authCheck=t.isAuthenticated(),p.submitUserReviewUpvote=d,p.deleteUserReviewUpvote=g,p.getUserPage=a.getUserPage,p.reviewParams={},p.reviewParams.getRating=l,p.reviewParams.userReviewUpvoted=u,p.reviewParams.submitUserReviewUpvote=d,p.reviewParams.deleteUserReviewUpvote=g,p.reviewParams.smallLoadingModel=p.smallLoadingModel,p.reviewParams.getRating=l,p.authCheck&&(p.userUpvotes=a.getUser().upvotes),p.submitUserReviewUpvote=d,p.activate()}e.module("app.review").controller("ProductReviewListController",["$scope","$auth","$routeParams","$route","changeBrowserURL","reviewService","userData",t])}(window.angular),function(e){"use strict";function t(e,t,o,r,n){function i(e){var t=6-e.currentTarget.attributes.value.nodeValue;s.review.rating=t}function a(){t.storeId?n.submitStoreReview(s.review).then(function(e){r.setUser(),o.reload()},function(e){}):t.productId&&n.submitProductReview(s.review).then(function(e){r.setUser(),o.reload()},function(e){})}var s=this;s.review={},s.user={},t.storeId?s.review.storeId=t.storeId:t.productId&&(s.review.productId=t.productId),s.ratingClick=i,r.getUser()?(s.review.userId=r.getUser()._id,s.user.picture=r.getUser().picture,s.user.displayName=r.getUser().displayName):s.review.userId=e.getPayload().sub,s.submitReview=a}e.module("app.review").controller("ReviewSubmitController",["$auth","$routeParams","$route","userData","reviewService",t])}(window.angular),function(e){"use strict";function t(e,t,o,r,n,i){function a(){g.getStoreReviews()}function s(){n.getStoreReviews().then(function(e){g.reviewList=e.data},function(e){})}function c(e){for(var t=parseInt(e.rating),o=[],r=0;t>r;r++)o.push(r);return o}function l(e){for(var t=e.upvotes,o=0;o<t.length;o++)if(-1!=g.userUpvotes.indexOf(t[o]))return g.currentUpvoteId=t[o],!0}function u(e){g.smallLoadingModel[e._id]=!0,n.submitUserReviewUpvote({reviewId:e._id,storeId:o.storeId,userId:i.getUser()._id}).then(function(t){e.upvotes.push(t.data.id),g.userUpvotes.push(t.data.id),i.setUser(),g.smallLoadingModel[e._id]=!1})}function d(e){g.smallLoadingModel[e._id]=!0,n.deleteUserReviewUpvote({reviewId:e._id,storeId:o.storeId,userId:i.getUser()._id}).then(function(t){e.upvotes.splice(e.upvotes.indexOf(t.data.id),1),i.setUser(),g.smallLoadingModel[e._id]=!1})}var g=this;g.activate=a,g.smallLoadingModel={},g.getStoreReviews=s,g.getRating=c,g.userReviewUpvoted=l,g.authCheck=t.isAuthenticated(),g.submitUserReviewUpvote=u,g.deleteUserReviewUpvote=d,g.getUserPage=i.getUserPage,g.reviewParams={},g.reviewParams.getRating=c,g.reviewParams.userReviewUpvoted=l,g.reviewParams.submitUserReviewUpvote=u,g.reviewParams.deleteUserReviewUpvote=d,g.reviewParams.smallLoadingModel=g.smallLoadingModel,g.reviewParams.getRating=c,g.authCheck&&(g.userUpvotes=i.getUser().upvotes),g.activate()}e.module("app.review").controller("StoreReviewListController",["$scope","$auth","$routeParams","$route","reviewService","userData",t])}(window.angular),function(e){"use strict";function t(e,t,o,r,n,i){function a(){g.getUserReviews()}function s(){o.getUserReviews().then(function(e){g.reviewList=e.data},function(e){})}function c(e){for(var t=parseInt(e.rating),o=[],r=0;t>r;r++)o.push(r);return o}function l(e){for(var t=e.upvotes,o=0;o<t.length;o++)if(-1!=g.userUpvotes.indexOf(t[o]))return g.currentUpvoteId=t[o],!0}function u(e){g.smallLoadingModel[e._id]=!0,o.submitUserReviewUpvote({reviewId:e._id,userId:r.getUser()._id}).then(function(t){e.upvotes.push(t.data.id),g.userUpvotes.push(t.data.id),r.setUser(),g.smallLoadingModel[e._id]=!1})}function d(e){g.smallLoadingModel[e._id]=!0,o.deleteUserReviewUpvote({reviewId:e._id,userId:r.getUser()._id}).then(function(t){e.upvotes.splice(e.upvotes.indexOf(t.data.id),1),r.setUser(),g.smallLoadingModel[e._id]=!1})}var g=this;g.activate=a,g.smallLoadingModel={},g.getUserReviews=s,g.getRating=c,g.userReviewUpvoted=l,g.authCheck=t.isAuthenticated(),g.submitUserReviewUpvote=u,g.deleteUserReviewUpvote=d,g.getUserPage=r.getUserPage,g.getSingleStorePage=n.getSingleStorePage,g.getSingleProductPage=i.getSingleProductPage,g.reviewParams={},g.reviewParams.getRating=c,g.reviewParams.userReviewUpvoted=l,g.reviewParams.submitUserReviewUpvote=u,g.reviewParams.deleteUserReviewUpvote=d,g.reviewParams.smallLoadingModel=g.smallLoadingModel,g.reviewParams.getRating=c,g.authCheck&&(g.userUpvotes=r.getUser().upvotes),g.submitUserReviewUpvote=u,g.activate()}e.module("app.review").controller("UserReviewListController",["$scope","$auth","reviewService","userData","getSingleStore","getProductsService",t])}(window.angular),function(e){"use strict";function t(e){return{replace:!0,scope:{reviewParams:"=reviewParams",review:"=review"},templateUrl:"app/reviews/views/singleReviewTemplate.html",link:function(t){t.authCheck=e.isAuthenticated()}}}e.module("app.review").directive("singleReviewDirective",["$auth",t])}(window.angular),function(e){"use strict";function t(e,t,o){function r(t){return e.post(o.baseUrl+"review/reviews/store/"+t.storeId,t)}function n(){var r=t.storeId;return e.get(o.baseUrl+"review/reviews/store/"+r)}function i(t){return e.post(o.baseUrl+"review/reviews/product/"+t.productId,t)}function a(){var r=t.productId;return e.get(o.baseUrl+"review/reviews/product/"+r)}function s(t){return console.log(t),e.post(o.baseUrl+"upvote/upvotes/review/",t)}function c(t){return e["delete"](o.baseUrl+"upvote/upvotes/review/",{params:t})}function l(){var r=t.userId;return e.get(o.baseUrl+"user/userReviews/"+r)}var u=this;u.submitStoreReview=r,u.getStoreReviews=n,u.submitUserReviewUpvote=s,u.deleteUserReviewUpvote=c,u.getProductReviews=a,u.submitProductReview=i,u.getUserReviews=l}e.module("app.review").service("reviewService",["$http","$routeParams","baseUrlService",t])}(window.angular),function(e){"use strict";function t(e,t,o,r,n){function i(e){n.changeBrowserURLMethod("/admin/adminStorePage/"+e)}function a(){r.getUserPage(r.getUser()._id)}function s(){t.logout(),r.removeUser(),o.location.reload()}function c(){n.changeBrowserURLMethod("/admin/createStore/")}function l(){u.user=r.getUser(),u.userProfilePic=r.getUser().picture,u.userStoresList=r.getUser().storeId}var u=this;u.getUserPage=a,u.getAdminStore=i,u.createNewStore=c,u.authLogout=s,u.authCheck=t.isAuthenticated()&&!r.getUser().facebook,l()}e.module("app.user").controller("UserAccountSettingsController",["$scope","$auth","$window","userData","changeBrowserURL",t])}(window.angular),function(e){"use strict";function t(e,t,o){function r(){n.loading=!0,o.getSingleUserActivity(t.userId).then(function(e){n.activityData=e.data,n.loading=!1})}var n=this;n.loading=!0,r()}e.module("app.user").controller("UserActivityListController",["$scope","$routeParams","activityService",t])}(window.angular),function(e){"use strict";function t(e,t,o){function r(){n.loading=!0,n.authCheck&&o.getUserFollowingActivity(t.getPayload().sub).then(function(e){n.activityData=e.data,console.log(typeof e.data),n.loading=!1})}var n=this;n.loading=!0,n.authCheck=t.isAuthenticated(),r()}e.module("app.user").controller("UserCustomFeedController",["$scope","$auth","activityService",t])}(window.angular),function(e){"use strict";function t(e,t,o){function r(){n.loading=!0,n.authCheck?o.getUserFollowingActivity(t.getPayload().sub).then(function(e){n.activityData=e.data,n.loading=!1}):o.getAllActivity().then(function(e){console.log("from the activity"),console.log(e),n.activityData=e.data,n.loading=!1})}var n=this;n.loading=!0,n.authCheck=t.isAuthenticated(),r()}e.module("app.user").controller("UserFeedController",["$scope","$auth","activityService","NgMap",t])}(window.angular),function(e){"use strict";function t(e,t,o,r,n,i){function a(){u.loading=!0,i.getUserFollowers(r.userId).then(function(e){u.followersList=e.data,u.loading=!1})}function s(e){i.submitUserFollow(n.getUser()._id,e).then(function(e){n.setUser()})}function c(e){i.deleteUserFollow(n.getUser()._id,e).then(function(e){n.setUser()})}function l(e){return-1==n.getUser().following.indexOf(e)?!1:!0}var u=this;a(),u.loading=!0,u.authCheck=t.isAuthenticated(),u.followersList=[],u.currentUserFollowed=l,u.submitUserFollow=s,u.deleteUserFollow=c,u.getUserPage=n.getUserPage}e.module("app.user").controller("UserFollowersController",["$scope","$auth","$location","$routeParams","userData","userService",t])}(window.angular),function(e){"use strict";function t(e,t,o,r,n,i){function a(){u.loading=!0,i.getUserFollowing(r.userId).then(function(e){u.followersList=e.data,u.loading=!1})}function s(e){i.submitUserFollow(n.getUser()._id,e).then(function(e){n.setUser()})}function c(e){i.deleteUserFollow(n.getUser()._id,e).then(function(e){n.setUser()})}function l(e){return-1==n.getUser().following.indexOf(e)?!1:!0}var u=this;a(),u.loading=!0,u.authCheck=t.isAuthenticated(),u.followersList=[],u.currentUserFollowed=l,u.submitUserFollow=s,u.deleteUserFollow=c,u.getUserPage=n.getUserPage}e.module("app.user").controller("UserFollowingController",["$scope","$auth","$location","$routeParams","userData","userService",t])}(window.angular),function(e){"use strict";function t(e,t,o){function r(){n.loading=!0,o.getAllActivity().then(function(e){n.activityData=e.data,n.loading=!1})}var n=this;n.loading=!0,n.authCheck=t.isAuthenticated(),r()}e.module("app.user").controller("UserLocalFeedController",["$scope","$auth","activityService",t])}(window.angular),function(e){"use strict";function t(e,t,o){function r(){}var n=this;n.loading=!0,n.authCheck=t.isAuthenticated(),r(),n.tab=1,n.setTab=function(e){n.tab=e,console.log("the tab"),console.log(n.tab)},n.isSet=function(e){return n.tab===e}}e.module("app.user").controller("UserMePageController",["$scope","$auth","userData",t])}(window.angular),function(e){"use strict";function t(e,t){function o(){}var r=this;r.loading=!0,r.authCheck=t.isAuthenticated(),o(),r.tab=1,r.setTab=function(e){r.tab=e,console.log("the tab"),console.log(r.tab)},r.isSet=function(e){return r.tab===e}}e.module("app.user").controller("UserMobileFeedController",["$scope","$auth",t])}(window.angular),function(e){"use strict";function t(e,t,o,r,n){function i(){return o.userId==r.getUser()._id}function a(e){n.submitUserFollow(r.getUser()._id,e).then(function(e){r.setUser(),console.log(e)},function(e){console.log(e)})}function s(e){n.deleteUserFollow(r.getUser()._id,e).then(function(t){r.getUser().following.indexOf(e);r.setUser()},function(e){console.log(e)})}function c(e){return-1!=r.getUser().following.indexOf(e)?!0:!1}function l(){u.loading=!0,n.getSingleUser(o.userId).then(function(e){u.currentUserData=e.data,u.loading=!1})}var u=this;l(),u.currentUserData={},u.loading=!0,u.authCheck=t.isAuthenticated(),u.submitUserFollow=a,u.deleteUserFollow=s,u.userFollowed=c,u.currentProfileUser=o.userId,u.authCheck&&(u.loggedUser=r.getUser()._id),u.currentUser=i}e.module("app.user").controller("UserPageController",["$scope","$auth","$routeParams","userData","userService",t])}(window.angular),function(e){"use strict";function t(e,t,o,r){var n=this;n.spinnerLoading=!1,n.uploadFiles=function(e,i){console.log("Enterd file uploading"),n.f=e,n.errFile=i&&i[0],e&&(e.upload=t.upload({url:r.baseUrl+"user/upload/profileImage/"+o.getUser()._id,data:{file:e}}),n.spinnerLoading=!0,e.upload.then(function(t){e.result=t.data,o.setUser(),o.getUser().picture=t.data,console.log("the image received"),console.log(t.data),$(".userProfileImage").find("img").attr("src",t.data),n.spinnerLoading=!1}))}}e.module("app.user").controller("UserProfileImageController",["$scope","Upload","userData","baseUrlService",t])}(window.angular),function(e){"use strict";function t(e,t,o,r){function n(){a.userForm=o.getUser(),console.log("user data"),console.log(a.userForm);

}function i(){console.log("updated form"),console.log(a.userForm),r.updateUser(a.userForm).then(function(e){console.log(e),o.setUser()},function(e){console.log(e)})}var a=this;a.authCheck=t.isAuthenticated(),a.updateUserProfile=i,n()}e.module("app.user").controller("UserProfileSettingsController",["$scope","$auth","userData","userService",t])}(window.angular),function(e){"use strict";function t(e,t,o,r,n,i){function a(){}a()}e.module("app.user").controller("UserStatisticsController",["$scope","$auth","$location","$routeParams","userData","userService",t])}(window.angular),function(e){"use strict";function t(){return{restrict:"E",replace:!0,templateUrl:"app/user/views/userChangePasswordTemplate.html",scope:{},link:function(e,t,o){},controllerAs:"vm",controller:["$scope","userService",function(e,t){function o(){n.passwordChangedValue=!1,n.showIncorrectPassword=!1,t.checkUserPassword({password:n.user.oldPassword}).then(function(e){return n.passwordCheckValue=e.data,n.passwordCheckValue?void t.changeUserPassword({password:n.user.password}).then(function(e){console.log("the status"),console.log(e.data),n.passwordChangedValue=!0}):void(n.showIncorrectPassword=!0)}),n.showIncorrectPassword=!1}function r(){}var n=this;n.user={},n.checkCurrentPassword=r,n.changePassword=o}]}}e.module("app.user").directive("changePassword",[t])}(window.angular),function(e){"use strict";function t(e,t){function o(o){return e.get(t.baseUrl+"activity/singleUserActivity/"+o)}function r(){return e.get(t.baseUrl+"activity/allActivity/")}function n(o){return e.get(t.baseUrl+"activity/userFollowingActivity/"+o)}this.getSingleUserActivity=o,this.getAllActivity=r,this.getUserFollowingActivity=n}e.module("app.user").service("activityService",["$http","baseUrlService",t])}(window.angular),function(e){"use strict";function t(e,t,o){function r(o){return e.get(t.baseUrl+"user/singleUser/"+o)}function n(o){return e.get(t.baseUrl+"review/ratings/store/"+o)}function i(o){return e.post(t.baseUrl+"user/submitStoreReport/",o)}function a(o,r){return e.post(t.baseUrl+"user/submitFollow/"+o+"/"+r)}function s(o,r){return e.post(t.baseUrl+"user/deleteFollow/"+o+"/"+r)}function c(o,r){return e.get(t.baseUrl+"user/checkFollow/"+o+"/"+r)}function l(o){return e.get(t.baseUrl+"user/userFollowers/"+o)}function u(o){return e.get(t.baseUrl+"user/userFollowing/"+o)}function d(o){return e.get(t.baseUrl+"user/singleUser/"+o,{params:{select:"name address.area address.locality"}})}function g(r){return console.log("the id"+o.getUser()._id),e.post(t.baseUrl+"user/updateUser/"+o.getUser()._id,r)}function p(r){return e.post(t.baseUrl+"user/checkPassword/"+o.getUser()._id,r)}function h(r){return e.post(t.baseUrl+"user/changePassword/"+o.getUser()._id,r)}this.getSingleUser=r,this.getStoreRating=n,this.submitUserFollow=a,this.submitStoreReport=i,this.deleteUserFollow=s,this.checkUserFollow=c,this.getUserFollowers=l,this.getUserFollowing=u,this.getUserStores=d,this.updateUser=g,this.checkUserPassword=p,this.changeUserPassword=h}e.module("app.user").service("userService",["$http","baseUrlService","userData",t])}(window.angular);